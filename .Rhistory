# Load required libraries
library(readr)      # to read CSVs
library(dplyr)      # for data manipulation
library(plm)        # for fixed effects regression
install.packages(plm)
install.packages("plm")
# Load required libraries
library(readr)      # to read CSVs
library(dplyr)      # for data manipulation
library(plm)        # for fixed effects regression
library(broom)      # for tidying regression output
library(writexl)    # to write Excel files
install.packages("writexl")
# Load required libraries
library(readr)      # to read CSVs
library(dplyr)      # for data manipulation
library(plm)        # for fixed effects regression
library(broom)      # for tidying regression output
library(writexl)    # to write Excel files
# Set paths (Dropbox assumed installed in default Mac/Windows location)
setwd("/Users/andresbarinasf/Documents/GitHub/econ280project/")
# Load data
df <- read_csv("./data/ms_blel_jpal_wide.csv")
View(df)
# Run regressions and collect results
results_list <- list()
# 1. OLS for m_theta
ols_m <- lm(m_theta_mle2 ~ treat + m_theta_mle1, data = df)
results_list[["OLS_m_theta"]] <- tidy(ols_m, conf.int = TRUE)
# 2. OLS for h_theta
ols_h <- lm(h_theta_mle2 ~ treat + h_theta_mle1, data = df)
results_list[["OLS_h_theta"]] <- tidy(ols_h, conf.int = TRUE)
# 3. Fixed effects (within) for m_theta
fe_m <- plm(m_theta_mle2 ~ treat + m_theta_mle1, data = df,
index = "strata", model = "within")
results_list[["FE_m_theta"]] <- tidy(fe_m, conf.int = TRUE)
# 4. Fixed effects (within) for h_theta
fe_h <- plm(h_theta_mle2 ~ treat + h_theta_mle1, data = df,
index = "strata", model = "within")
results_list[["FE_h_theta"]] <- tidy(fe_h, conf.int = TRUE)
# Export all tables to one Excel file (one sheet per regression)
write_xlsx(results_list, path = output_path)
# Export all tables to one Excel file (one sheet per regression)
write_xlsx(results_list, path = "./results")
# Export all tables to one Excel file (one sheet per regression)
write_xlsx(results_list, path = "./results/")
output_path <- file.path("./results", "output", "table2.xlsx")
# Export all tables to one Excel file (one sheet per regression)
write_xlsx(results_list, path = output_path)
install.packages("overgazer")
install.packages("stargazer")
overgazer(
ols_m, ols_h, fe_m, fe_h,
file = "~/Desktop/table2.tex",  # or Dropbox path
title = "Treatment Effects on Baseline Scores",
dep.var.caption = "Dependent variable:",
dep.var.labels = c("Math Score", "Hindi Score", "Math Score (FE)", "Hindi Score (FE)"),
covariate.labels = c("Treatment", "Baseline score"),
omit.stat = c("n", "adj.r.squared", "logLik", "f", "ser")
)
stargazer(
ols_m, ols_h, fe_m, fe_h,
type = "latex",
title = "Treatment Effects on Test Scores",
dep.var.labels = c("Math Score", "Hindi Score"),
column.labels = c("OLS-M", "OLS-H", "FE-M", "FE-H"),
covariate.labels = c("Treatment", "Baseline Score"),
no.space = TRUE,
omit.stat = c("f", "ser"),  # Optional: remove F-stat and standard error
out = latex_path
)
library(stargazer)
stargazer(
ols_m, ols_h, fe_m, fe_h,
type = "latex",
title = "Treatment Effects on Test Scores",
dep.var.labels = c("Math Score", "Hindi Score"),
column.labels = c("OLS-M", "OLS-H", "FE-M", "FE-H"),
covariate.labels = c("Treatment", "Baseline Score"),
no.space = TRUE,
omit.stat = c("f", "ser"),  # Optional: remove F-stat and standard error
out = latex_path
)
# Load required libraries
library(readr)      # to read CSVs
library(dplyr)      # for data manipulation
library(plm)        # for fixed effects regression
library(broom)      # for tidying regression output
library(writexl)    # to write Excel files
# Set paths (Dropbox assumed installed in default Mac/Windows location)
setwd("/Users/andresbarinasf/Documents/GitHub/econ280project/")
output_path <- file.path("./results","table2.tex")
# Load data
df <- read_csv("./data/ms_blel_jpal_wide.csv")
# Run regressions and collect results
results_list <- list()
# 1. OLS for m_theta
ols_m <- lm(m_theta_mle2 ~ treat + m_theta_mle1, data = df)
results_list[["OLS_m_theta"]] <- tidy(ols_m, conf.int = TRUE)
# 2. OLS for h_theta
ols_h <- lm(h_theta_mle2 ~ treat + h_theta_mle1, data = df)
results_list[["OLS_h_theta"]] <- tidy(ols_h, conf.int = TRUE)
# 3. Fixed effects (within) for m_theta
fe_m <- plm(m_theta_mle2 ~ treat + m_theta_mle1, data = df,
index = "strata", model = "within")
results_list[["FE_m_theta"]] <- tidy(fe_m, conf.int = TRUE)
# 4. Fixed effects (within) for h_theta
fe_h <- plm(h_theta_mle2 ~ treat + h_theta_mle1, data = df,
index = "strata", model = "within")
results_list[["FE_h_theta"]] <- tidy(fe_h, conf.int = TRUE)
stargazer(
ols_m, ols_h, fe_m, fe_h,
type = "latex",
title = "Treatment Effects on Test Scores",
dep.var.labels = c("Math Score", "Hindi Score"),
column.labels = c("OLS-M", "OLS-H", "FE-M", "FE-H"),
covariate.labels = c("Treatment", "Baseline Score"),
no.space = TRUE,
omit.stat = c("f", "ser"),  # Optional: remove F-stat and standard error
out = output_path
)
# Optional: print summary to console
cat("Regressions completed. Output saved to:\n", output_path, "\n")
fe_h <- plm(h_theta_mle2 ~ treat + h_theta_mle1, data = df,
index = "strata", model = "within")
View(fe_h)
View(fe_h)
View(ols_h)
View(fe_m)
# Example fixed effect regressions (Math and Hindi scores)
fe_m <- feols(m_theta_mle2 ~ treat + m_theta_mle1 | strata, data = df,
fixef.rm = "none")  # keep constant
library(fixest)
# Load required libraries
library(readr)      # to read CSVs
library(dplyr)      # for data manipulation
library(plm)        # for fixed effects regression
library(broom)      # for tidying regression output
library(writexl)    # to write Excel files
library(stargazer)
library(fixest)
# Set paths (Dropbox assumed installed in default Mac/Windows location)
setwd("/Users/andresbarinasf/Documents/GitHub/econ280project/")
output_path <- file.path("./results","table2.tex")
# Load data
df <- read_csv("./data/ms_blel_jpal_wide.csv")
# Run regressions and collect results
results_list <- list()
# 1. OLS for m_theta
ols_m <- lm(m_theta_mle2 ~ treat + m_theta_mle1, data = df)
results_list[["OLS_m_theta"]] <- tidy(ols_m, conf.int = TRUE)
# 2. OLS for h_theta
ols_h <- lm(h_theta_mle2 ~ treat + h_theta_mle1, data = df)
results_list[["OLS_h_theta"]] <- tidy(ols_h, conf.int = TRUE)
# Example fixed effect regressions (Math and Hindi scores)
fe_m <- feols(m_theta_mle2 ~ treat + m_theta_mle1 | strata, data = df,
fixef.rm = "none")  # keep constant
fe_h <- feols(h_theta_mle2 ~ treat + h_theta_mle1 | strata, data = df,
fixef.rm = "none")  # keep constant
results_list[["FE_h_theta"]] <- tidy(fe_h, conf.int = TRUE)
stargazer(
ols_m, ols_h, fe_m, fe_h,
type = "latex",
title = "Treatment Effects on Test Scores",
dep.var.labels = c("Math Score", "Hindi Score"),
column.labels = c("OLS-M", "OLS-H", "FE-M", "FE-H"),
covariate.labels = c("Treatment", "Baseline Score"),
no.space = TRUE,
omit.stat = c("f", "ser"),  # Optional: remove F-stat and standard error
out = output_path
)
# Optional: print summary to console
cat("Regressions completed. Output saved to:\n", output_path, "\n")
View(fe_m)
# Load required libraries
library(readr)      # to read CSVs
library(dplyr)      # for data manipulation
library(plm)        # for fixed effects regression
library(broom)      # for tidying regression output
library(writexl)    # to write Excel files
library(stargazer)
library(fixest)
# Set paths (Dropbox assumed installed in default Mac/Windows location)
setwd("/Users/andresbarinasf/Documents/GitHub/econ280project/")
output_path <- file.path("./results","table2.tex")
# Load data
df <- read_csv("./data/ms_blel_jpal_wide.csv")
# Run regressions and collect results
results_list <- list()
# 1. OLS for m_theta
ols_m <- lm(m_theta_mle2 ~ treat + m_theta_mle1, data = df)
results_list[["OLS_m_theta"]] <- tidy(ols_m, conf.int = TRUE)
# 2. OLS for h_theta
ols_h <- lm(h_theta_mle2 ~ treat + h_theta_mle1, data = df)
results_list[["OLS_h_theta"]] <- tidy(ols_h, conf.int = TRUE)
# Example fixed effect regressions (Math and Hindi scores)
fe_m <- feols(m_theta_mle2 ~ treat + m_theta_mle1 | strata, data = df,
fixef.rm = "none")  # keep constant
results_list[["FE_m_theta"]] <- tidy(fe_m, conf.int = TRUE)
fe_h <- feols(h_theta_mle2 ~ treat + h_theta_mle1 | strata, data = df,
fixef.rm = "none")  # keep constant
results_list[["FE_h_theta"]] <- tidy(fe_h, conf.int = TRUE)
stargazer(
ols_m, ols_h, fe_m, fe_h,
type = "latex",
title = "Treatment Effects on Test Scores",
dep.var.labels = c("Math Score", "Hindi Score"),
column.labels = c("OLS-M", "OLS-H", "FE-M", "FE-H"),
covariate.labels = c("Treatment", "Baseline Score"),
no.space = TRUE,
omit.stat = c("f", "ser"),  # Optional: remove F-stat and standard error
out = output_path
)
# Optional: print summary to console
cat("Regressions completed. Output saved to:\n", output_path, "\n")
fe_h <- feols(h_theta_mle2 ~ treat + h_theta_mle1 | strata, data = df,
fixef.rm = "none")  # keep constant
View(fe_h)
summary(fe_h)
# Load required libraries
library(readr)      # to read CSVs
library(dplyr)      # for data manipulation
library(plm)        # for fixed effects regression
library(broom)      # for tidying regression output
library(writexl)    # to write Excel files
library(stargazer)
library(fixest)
# Set paths (Dropbox assumed installed in default Mac/Windows location)
setwd("/Users/andresbarinasf/Documents/GitHub/econ280project/")
output_path <- file.path("./results","table2.tex")
# Load data
df <- read_csv("./data/ms_blel_jpal_wide.csv")
# Run regressions and collect results
results_list <- list()
# 1. OLS for m_theta
ols_m <- lm(m_theta_mle2 ~ treat + m_theta_mle1, data = df)
results_list[["OLS_m_theta"]] <- tidy(ols_m, conf.int = TRUE)
# 2. OLS for h_theta
ols_h <- lm(h_theta_mle2 ~ treat + h_theta_mle1, data = df)
results_list[["OLS_h_theta"]] <- tidy(ols_h, conf.int = TRUE)
# 3. Fixed effects (within) for m_theta
fe_m <- plm(m_theta_mle2 ~ treat + m_theta_mle1, data = df,
index = "strata", model = "within")
results_list[["FE_m_theta"]] <- tidy(fe_m, conf.int = TRUE)
# 4. Fixed effects (within) for h_theta
fe_h <- plm(h_theta_mle2 ~ treat + h_theta_mle1, data = df,
index = "strata", model = "within")
results_list[["FE_h_theta"]] <- tidy(fe_h, conf.int = TRUE)
stargazer(
ols_m, ols_h, fe_m, fe_h,
type = "latex",
title = "Treatment Effects on Test Scores",
dep.var.labels = c("Math Score", "Hindi Score"),
column.labels = c("OLS-M", "OLS-H", "FE-M", "FE-H"),
covariate.labels = c("Treatment", "Baseline Score"),
no.space = TRUE,
omit.stat = c("f", "ser"),  # Optional: remove F-stat and standard error
out = output_path
)
# Optional: print summary to console
cat("Regressions completed. Output saved to:\n", output_path, "\n")
fe_h <- feols(h_theta_mle2 ~ treat + h_theta_mle1 | strata, data = df, fixef.rm = "none")
View(fe_h)
summary(fe)
summary(fe_h)
View(fe_h)
fe_h[["sumFE"]]
# Load required libraries
library(readr)      # to read CSVs
library(dplyr)      # for data manipulation
library(plm)        # for fixed effects regression
library(broom)      # for tidying regression output
library(writexl)    # to write Excel files
library(stargazer)
library(fixest)
# Set paths (Dropbox assumed installed in default Mac/Windows location)
setwd("/Users/andresbarinasf/Documents/GitHub/econ280project/")
output_path <- file.path("./results","table2.tex")
# Load data
df <- read_csv("./data/ms_blel_jpal_wide.csv")
# Run regressions and collect results
results_list <- list()
# Run regressions with fixest and robust SEs (heteroskedasticity-robust)
reg_m_ols <- feols(m_theta_mle2 ~ treat + m_theta_mle1, data = df, vcov = "hetero")
reg_h_ols <- feols(h_theta_mle2 ~ treat + h_theta_mle1, data = df, vcov = "hetero")
reg_m_fe  <- feols(m_theta_mle2 ~ treat + m_theta_mle1 | strata, data = df, vcov = "hetero")
reg_h_fe  <- feols(h_theta_mle2 ~ treat + h_theta_mle1 | strata, data = df, vcov = "hetero")
# Export to HTML (preserves table format and can be opened in Excel)
stargazer(reg_m_ols, reg_h_ols, reg_m_fe, reg_h_fe,
type = "latex",
title = "Treatment Effects on Test Scores",
dep.var.labels = c("Math Score", "Hindi Score"),
column.labels = c("OLS-M", "OLS-H", "FE-M", "FE-H"),
covariate.labels = c("Treatment", "Baseline Score"),
no.space = TRUE,
omit.stat = c("f", "ser"),  # Optional: remove F-stat and standard error
out = output_path
)
# Optional: print summary to console
cat("Regressions completed. Output saved to:\n", output_path, "\n")
# Load required libraries
library(readr)      # to read CSVs
library(dplyr)      # for data manipulation
library(plm)        # for fixed effects regression
library(broom)      # for tidying regression output
library(writexl)    # to write Excel files
library(stargazer)
library(fixest)
# Set paths (Dropbox assumed installed in default Mac/Windows location)
setwd("/Users/andresbarinasf/Documents/GitHub/econ280project/")
output_path <- file.path("./results","table2.tex")
# Load data
df <- read_csv("./data/ms_blel_jpal_wide.csv")
# Run regressions and collect results
results_list <- list()
# Run regressions with fixest and robust SEs (heteroskedasticity-robust)
reg_m_ols <- feols(m_theta_mle2 ~ treat + m_theta_mle1, data = df, vcov = "hetero")
reg_h_ols <- feols(h_theta_mle2 ~ treat + h_theta_mle1, data = df, vcov = "hetero")
reg_m_fe  <- feols(m_theta_mle2 ~ treat + m_theta_mle1 | strata, data = df, vcov = "hetero")
reg_h_fe  <- feols(h_theta_mle2 ~ treat + h_theta_mle1 | strata, data = df, vcov = "hetero")
# Create a named model list
models <- list(
"Math (OLS)"  = reg_m_ols,
"Hindi (OLS)" = reg_h_ols,
"Math (FE)"   = reg_m_fe,
"Hindi (FE)"  = reg_h_fe
)
# Export to HTML (preserves table format and can be opened in Excel)
stargazer(reg_m_ols, reg_h_ols, reg_m_fe, reg_h_fe,
type = "latex",
title = "Treatment Effects on Test Scores",
dep.var.labels = c("Math Score", "Hindi Score"),
column.labels = c("OLS-M", "OLS-H", "FE-M", "FE-H"),
covariate.labels = c("Treatment", "Baseline Score"),
no.space = TRUE,
omit.stat = c("f", "ser"),  # Optional: remove F-stat and standard error
out = output_path
)
# Optional: print summary to console
cat("Regressions completed. Output saved to:\n", output_path, "\n")
View(fe_h)
View(fe_m)
summary(fe_h fe_m)
summary(fe_h)
